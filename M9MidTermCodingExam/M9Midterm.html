<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amortization Calculator</title>
    <style>
        /* Basic styling to make the page look nice */
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            background-color: lightgray;
        }
        
        /* Style for the top header section */
        .header {
            background-color: navy;
            color: white;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        
        /* Style for the button */
        #Button1 {
            background-color: blue;
            color: white;
            padding: 15px 30px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        
        #Button1:hover {
            background-color: darkblue;
        }
        
        /* Where the results will appear */
        #results {
            background-color: white;
            padding: 20px;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <!-- STEP 1: Add your personal information here (lines 76-78) -->
    <div class="header">
        <p>Name: Dogus Metin</p>
        <p>Email:dmetin@my.waketech.edu</p>
        <p>Date: Sunday, October 26, 2025</p>
    </div>

    <h1>Mortgage Amortization Calculator</h1>
    
    <!-- STEP 2: The button that starts the calculator -->
    <button id="Button1">Calculate Amortization Schedule</button>
    
    <!-- STEP 3: Empty div where results will be displayed -->
    <div id="results"></div>

    <script>
        // ===== STEP 4: Add event listener to button =====
        // This makes the button "listen" for clicks
        document.getElementById('Button1').addEventListener('click', function() {
            
            // Clear any old results
            document.getElementById('results').innerHTML = '';
            
            // ===== STEP 5: Get loan amount from user =====
            let loanAmount = prompt('Enter the loan amount (without commas):');
            loanAmount = parseFloat(loanAmount); // Convert text to number
            
            // Check if the loan amount is valid
            if (isNaN(loanAmount) || loanAmount <= 0) {
                alert('Please enter a valid loan amount.');
                return; // Stop the function
            }
            
            // ===== STEP 6: Get loan term from user =====
            let termYears = prompt('Enter the loan term in years (15 or 30):');
            termYears = parseInt(termYears); // Convert text to whole number
            
            // ===== STEP 7: Check if term is 15 or 30 years =====
            if (termYears !== 15 && termYears !== 30) {
                alert('Loan term must be either 15 or 30 years.');
                return; // Stop the function
            }
            
            // ===== STEP 8: Set the interest rate =====
            let interestRate = 0.0575; // 5.75% as a decimal
            
            // ===== STEP 9: Calculate monthly payment =====
            // Using the formula from the requirements
            let monthlyPayment = (((interestRate / 12) * loanAmount) / (1 - Math.pow(1 + (interestRate / 12), (termYears * -12)))).toFixed(2);
            monthlyPayment = parseFloat(monthlyPayment); // Convert back to number
            
            // ===== STEP 10: Calculate total interest =====
            let totalInterest = (monthlyPayment * termYears * 12) - loanAmount;
            totalInterest = parseFloat(totalInterest.toFixed(2));
            
            // ===== STEP 11: Calculate total mortgage amount =====
            let totalLoan = loanAmount + totalInterest;
            totalLoan = parseFloat(totalLoan.toFixed(2));
            
            // ===== STEP 12: Display the summary information =====
            let output = '<h2>Loan Summary</h2>';
            output += '<p><strong>Mortgage term in years:</strong> ' + termYears + '</p>';
            output += '<p><strong>Mortgage interest rate:</strong> 5.75%</p>';
            output += '<p><strong>Mortgage amount (loan amount):</strong> $' + loanAmount.toFixed(2) + '</p>';
            output += '<p><strong>Total interest amount:</strong> $' + totalInterest.toFixed(2) + '</p>';
            output += '<p><strong>Total mortgage amount:</strong> $' + totalLoan.toFixed(2) + '</p>';
            output += '<p><strong>Monthly payment:</strong> $' + monthlyPayment.toFixed(2) + '</p>';
            output += '<hr>';
            output += '<h3>Monthly Payment Schedule</h3>';
            
            // ===== STEP 13: Set starting balance =====
            let balance = totalLoan;
            
            // ===== STEP 14: Loop through each month =====
            for (let month = 1; month <= termYears * 12; month++) {
                
                // Subtract the monthly payment from balance
                balance = balance - monthlyPayment;
                
                // ===== STEP 15: Check if balance reaches 0 =====
                if (balance <= 0) {
                    balance = 0; // Set to exactly 0
                    output += '<p>Month ' + month + ': Payment: $' + monthlyPayment.toFixed(2) + ' | Balance: $' + balance.toFixed(2) + '</p>';
                    output += '<p style="color: green; font-weight: bold;">This is the Ending Amortization Calculator...</p>';
                    break; // Exit the loop
                } else {
                    // Display the payment and remaining balance
                    output += '<p>Month ' + month + ': Payment: $' + monthlyPayment.toFixed(2) + ' | Balance: $' + balance.toFixed(2) + '</p>';
                }
            }
            
            // ===== STEP 16: Display all results on the page =====
            document.getElementById('results').innerHTML = output;
        });
    </script>
</body>
</html>